(function(e){"use strict";var t=$("[rel~=tooltip]"),n=false,r=false,i;t.bind("mouseover",function(){n=$(this);i=n.attr("title");r=$('<div class="tooltip"></div>');if(!i||i===""){return false}n.removeAttr("title");r.css("opacity",0).html(i).appendTo("body");var t=function(){if($(e).width()<r.width()*1.5){r.css("max-width",$(e).width()/2)}else{r.css("max-width",340)}var t=n.offset().left+n.width()/2-r.width()/2,i=n.offset().top-r.height()-20;if(t<0){t=n.offset().left+n.width()/2-20;r.addClass("left")}else{r.removeClass("left")}if(t+r.width()>$(e).width()){t=n.offset().left-r.width()+n.width()/2+20;r.addClass("right")}else{r.removeClass("right")}if(i<0){i=n.offset().top+n.height();r.addClass("top")}else{r.removeClass("top")}r.css({left:t,top:i}).animate({translateY:"10px",opacity:1},50)};t();$(e).resize(t);var s=function(){r.animate({translateY:"-10px",opacity:0},50,"linear",function(){$(this).remove()});n.attr("title",i)};n.bind("mouseout",s);r.bind("click",s)})})(window)